<html>
 <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js" integrity="sha256-4iQZ6BVL4qNKlQ27TExEhBN1HFPvAvAMbFavKKosSWQ=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha256-R4pqcOYV8lt7snxMQO/HSbVCFRPMdrhAFMH+vr9giYI=" crossorigin="anonymous"></script>
    
    <script src="{{url_for('static', filename='flask_chart.js') }}"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>
<body>

  <div style='width:400px'>
    <canvas id="canvas" data-endpoint='{{CHART_ENDPOINT}}'></canvas>
  
    <!-- don't bother receiving the endpoint from flask for this one -->
    <canvas id="dynamic" data-endpoint='/dynamic'></canvas>
  </div>

  <script type='text/javascript'>

    // First Chart

    var ctx = document.getElementById('canvas');

    myChart = create_chart(ctx);

    // Now for the dynamic one:

    var dynamicCtx = document.getElementById('dynamic');

    dynamicChart = create_chart(dynamicCtx);

    window.onload = function() {
      load_data(myChart)

      load_data(dynamicChart, 'query_string')

    };

  </script>

</body>
</html>